{% extends 'base.html' %}

{% block title %}Meu Painel{% endblock %}

{% block content %}
    <div class="max-w-4xl mx-auto">
        <div class="mb-8 flex justify-between items-end">
            <div>
                <p class="text-gray-500 text-sm uppercase">Bem-vindo ao turno,</p>
                <h1 class="text-3xl font-bold text-white">{{ agente.nome }}</h1>
                <p class="text-neonBlue font-mono text-sm">Ramal: {{ agente.ramal }}</p>
            </div>
            <div class="text-right">
                <p class="text-xs text-gray-500">Tempo de Sessão</p>
                <p class="text-2xl font-mono text-white font-bold">{{ agente.tempo_logado|default:"00:00:00" }}</p>
            </div>
        </div>

        <div class="bg-card border border-borderCol rounded-xl p-8 mb-8 text-center relative overflow-hidden">
            <div class="absolute inset-0 opacity-10 {{ agente.cor_badge_css|cut:'text-'|cut:'border-' }}"></div>
            
            <h2 class="text-gray-400 text-sm uppercase font-bold mb-4">Seu Status Atual</h2>
            
            <div class="inline-block px-8 py-3 rounded-full border-2 {{ agente.cor_badge_css }} text-2xl font-bold uppercase mb-8 shadow-[0_0_30px_rgba(0,0,0,0.5)]">
                {{ agente.get_status_display }}
            </div>

            <p class="text-xs text-gray-500 mb-4">Alterar disponibilidade:</p>
            <form method="post" class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto">
                {% csrf_token %}
                
                <button type="submit" name="meu_status" value="online" class="py-4 rounded-lg bg-[#0d1117] border border-neonGreen/30 text-neonGreen hover:bg-neonGreen hover:text-white transition-all font-bold flex flex-col items-center gap-2 group">
                    <i class="fa-solid fa-check-circle text-2xl group-hover:scale-110 transition-transform"></i>
                    DISPONÍVEL
                </button>

                <button type="submit" name="meu_status" value="pausa" class="py-4 rounded-lg bg-[#0d1117] border border-warnYellow/30 text-warnYellow hover:bg-warnYellow hover:text-white transition-all font-bold flex flex-col items-center gap-2 group">
                    <i class="fa-solid fa-mug-hot text-2xl group-hover:scale-110 transition-transform"></i>
                    PAUSA
                </button>

                <button type="submit" name="meu_status" value="offline" class="py-4 rounded-lg bg-[#0d1117] border border-alertRed/30 text-alertRed hover:bg-alertRed hover:text-white transition-all font-bold flex flex-col items-center gap-2 group">
                    <i class="fa-solid fa-power-off text-2xl group-hover:scale-110 transition-transform"></i>
                    OFFLINE
                </button>
            </form>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="bg-card p-4 rounded border border-borderCol">
                <p class="text-xs text-gray-500 uppercase">Atendimentos Hoje</p>
                <p class="text-2xl font-bold text-white mt-1">{{ agente.atendimentos }}</p>
            </div>
            <div class="bg-card p-4 rounded border border-borderCol">
                <p class="text-xs text-gray-500 uppercase">TMA Pessoal</p>
                <p class="text-2xl font-bold text-neonBlue mt-1">04:12</p>
            </div>
            <div class="bg-card p-4 rounded border border-borderCol">
                <p class="text-xs text-gray-500 uppercase">Nota Qualidade</p>
                <p class="text-2xl font-bold text-neonGreen mt-1">4.9</p>
            </div>
            <div class="bg-card p-4 rounded border border-borderCol">
                <p class="text-xs text-gray-500 uppercase">Fila Individual</p>
                <p class="text-2xl font-bold text-gray-400 mt-1">0</p>
            </div>
        </div>
    </div>
{% endblock %}